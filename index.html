<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resize Image: Change Image Size (Free)</title>
<link rel="icon" href="favicon.png" type="image/x-icon">
    <meta name="robots" content="index, follow">
    <meta name="description" content="Scale size of your images, set custom width and height using different units such as pixels, inches, millimeters and centimeters. Free online tool to change image size.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4361ee;
            --primary-light: #e6eeff;
            --secondary: #3a0ca3;
            --accent: #7209b7;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4cc9f0;
            --warning: #f72585;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --text: #333333;
            --border: #dee2e6;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            background: #ffffff;
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .logo {
            font-size: 2.8rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        header h1 {
            color: var(--dark);
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 800;
        }

        header p {
            color: var(--gray);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .upload-section {
            background: var(--light);
            border-radius: 14px;
            padding: 25px;
            border: 1px solid var(--border);
        }

        .section-title {
            color: var(--primary);
            font-size: 1.4rem;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--primary-light);
            display: flex;
            align-items: center;
            font-weight: 700;
        }

        .section-title i {
            margin-right: 12px;
            color: var(--primary);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .file-input-container {
            position: relative;
            margin-bottom: 20px;
        }

        .file-input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: white;
            font-size: 1rem;
        }

        .file-input::file-selector-button {
            background: var(--primary);
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-right: 10px;
            font-weight: 600;
            transition: background 0.3s;
        }

        .file-input::file-selector-button:hover {
            background: var(--secondary);
        }

        select, input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: white;
            font-size: 1rem;
            color: var(--text);
        }

        .dimension-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .dimension-group {
            display: flex;
            flex-direction: column;
        }

        .dimension-group label {
            margin-bottom: 8px;
        }

        .dimension-input {
            display: flex;
            align-items: center;
        }

        .dimension-input input {
            flex: 1;
        }

        .dimension-input span {
            margin-left: 8px;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .btn {
            background: var(--primary);
            color: white;
            padding: 14px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            display: block;
            width: 100%;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.2);
        }

        .btn:disabled {
            background: var(--light-gray);
            color: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .progress-container {
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            background-color: var(--light-gray);
            border-radius: 10px;
            overflow: hidden;
            height: 20px;
            margin-bottom: 10px;
        }

        .progress-fill {
            width: 0%;
            height: 100%;
            background: var(--primary);
            border-radius: 10px;
            transition: width 0.4s ease;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--gray);
        }

        .status-container {
            margin-top: 15px;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
        }

        .info {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
            border: 1px solid rgba(67, 97, 238, 0.2);
        }

        .success {
            background-color: rgba(76, 201, 240, 0.1);
            color: #0a7ea6;
            border: 1px solid rgba(76, 201, 240, 0.2);
        }

        .error {
            background-color: rgba(247, 37, 133, 0.1);
            color: #c1121f;
            border: 1px solid rgba(247, 37, 133, 0.2);
        }

        .info-section {
            background: var(--light);
            border-radius: 14px;
            padding: 25px;
            border: 1px solid var(--border);
        }

        .info-content h2 {
            color: var(--primary);
            font-size: 1.3rem;
            margin: 20px 0 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border);
        }

        .info-content h2:first-child {
            margin-top: 0;
        }

        .info-content p, .info-content ul, .info-content ol {
            margin-bottom: 15px;
            color: var(--text);
        }

        .info-content ul, .info-content ol {
            padding-left: 20px;
        }

        .info-content li {
            margin-bottom: 8px;
        }

        .info-content a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        .info-content a:hover {
            text-decoration: underline;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            color: var(--gray);
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
            margin: 0 10px;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Animation for status messages */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .status-container {
            animation: fadeIn 0.5s ease;
        }

        .option-input {
            display: none;
        }

        .option-input.active {
            display: block;
        }

        .preview-container {
            margin-top: 20px;
            text-align: center;
        }

        .preview-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .preview-images {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }

        .preview-box {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .preview-box img {
            max-width: 150px;
            max-height: 150px;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin-bottom: 5px;
        }

        .preview-label {
            font-size: 0.8rem;
            color: var(--gray);
        }

        .download-btn {
            margin-top: 15px;
            background: var(--success);
        }

        .download-btn:hover {
            background: #0a7ea6;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-expand-alt"></i>
            </div>
            <h1>Image Resizer</h1>
            <p>Free online tool to resize your images with various options and units</p>
        </header>

        <div class="main-content">
            <div class="upload-section">
                <h2 class="section-title"><i class="fas fa-cog"></i> Resize Image</h2>
                <form id="form" enctype="multipart/form-data" autocomplete="off" onsubmit="return false;">
                    <div class="form-group">
                        <label for="file">Select Image</label>
                        <input type="file" id="file" name="file" class="file-input" title="Select Image" accept=".jpg,.jpeg,.bmp,.gif,.png,.tiff,.tif,.webp">
                    </div>
                    
                    <div class="form-group">
                        <label for="select">Resize Options</label>
                        <select id="select" name="select" title="Select Options" onchange="updateSelect()">
                            <option value="1" selected>Width and Height</option>
                            <option value="2">Width and Height (Fixed)</option>
                            <option value="3">Width and Height (Crop)</option>
                            <option value="4">Max Width</option>
                            <option value="5">Max Height</option>
                            <option value="6">Double Size</option>
                            <option value="7">Half Size</option>
                        </select>
                    </div>
                    
                    <div id="option-input-1" class="option-input active">
                        <div class="dimension-inputs">
                            <div class="dimension-group">
                                <label for="width">Width</label>
                                <div class="dimension-input">
                                    <input type="text" id="width" name="width" value="" maxlength="5" title="Enter Width" pattern="^[0-9]{1,4}$">
                                    <span id="width-unit">px</span>
                                </div>
                            </div>
                            <div class="dimension-group">
                                <label for="height">Height</label>
                                <div class="dimension-input">
                                    <input type="text" id="height" name="height" value="" maxlength="5" title="Enter Height" pattern="^[0-9]{1,4}$">
                                    <span id="height-unit">px</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="option-input-2" class="option-input">
                        <div class="form-group">
                            <label for="style">Unit</label>
                            <select id="style" name="style" title="Select Unit" onchange="updateStyle()">
                                <option value="1" selected>Pixel</option>
                                <option value="2">Inch</option>
                                <option value="3">Millimeter</option>
                                <option value="4">Centimeter</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <span id="style-hint">(from 1 to 9999)</span>
                        </div>
                    </div>
                    
                    <button type="button" id="convert" class="btn" onclick="processImage()">Resize Image</button>
                </form>
                
                <div class="progress-container" id="progressContainer" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-info">
                        <span id="progressText">0%</span>
                        <span id="control">(<a href="#" onclick="cancelProcessing(); return false;">cancel</a>)</span>
                    </div>
                </div>
                
                <div id="status" class="status-container"></div>
                
                <div id="previewContainer" class="preview-container" style="display: none;">
                    <div class="preview-title">Preview</div>
                    <div class="preview-images">
                        <div class="preview-box">
                            <img id="originalPreview" src="" alt="Original">
                            <div class="preview-label">Original</div>
                        </div>
                        <div class="preview-box">
                            <img id="resizedPreview" src="" alt="Resized">
                            <div class="preview-label">Resized</div>
                        </div>
                    </div>
                    <button id="downloadBtn" class="btn download-btn" style="display: none;">Download Resized Image</button>
                </div>
            </div>
            
            <div class="info-section">
                <div class="info-content">
                    <h2>Introduction</h2>
                    <p>This free image resizer can help you change the width and height of the image, and enlarge or reduce the image size. This tool supports various common image formats.</p>
                    
                    <h2>How To Use</h2>
                    <ol>
                        <li>Select an image file (JPG, PNG, GIF, BMP, TIFF, or WEBP formats)</li>
                        <li>Choose resize option from the dropdown</li>
                        <li>Enter width and/or height values as needed</li>
                        <li>Click the "Resize Image" button</li>
                        <li>Preview and download your resized image</li>
                    </ol>
                    
                    <h2>Resize Options</h2>
                    <ul>
                        <li><strong>Width and Height:</strong> Resize using the aspect ratio of the source image</li>
                        <li><strong>Width and Height (Fixed):</strong> Resize without preserving the aspect ratio</li>
                        <li><strong>Width and Height (Crop):</strong> Crop part of the image</li>
                        <li><strong>Max Width:</strong> Set maximum width, height calculated automatically</li>
                        <li><strong>Max Height:</strong> Set maximum height, width calculated automatically</li>
                        <li><strong>Double Size:</strong> Magnify twice the width and height</li>
                        <li><strong>Half Size:</strong> Reduce the size of the image by half</li>
                    </ul>
                    
                    <h2>Supported Formats</h2>
                    <ul>
                        <li>Common formats: JPG, BMP, GIF, PNG, TIFF, WEBP</li>
                        <li>Units: Pixel (px), Inch (in), Millimeter (mm), Centimeter (cm)</li>
                    </ul>
                    
                    <h2>Notes</h2>
                    <ul>
                        <li>Maximum file size: 10 MB</li>
                        <li>GIF images only support the "Pixel" unit</li>
                        <li>Processing happens entirely in your browser - no server upload required</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <footer>
            
            &copy; 2025 Image Resizer Tool, All Rights Reserved.
		<br>by Avex
        </footer>
    </div>

    <script>
        // Global variables
        let processingCancelled = false;
        let resizedImageBlob = null;

        // DOM elements
        const convertBtn = document.getElementById('convert');
        const statusDiv = document.getElementById('status');
        const progressContainer = document.getElementById('progressContainer');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const previewContainer = document.getElementById('previewContainer');
        const originalPreview = document.getElementById('originalPreview');
        const resizedPreview = document.getElementById('resizedPreview');
        const downloadBtn = document.getElementById('downloadBtn');

        // Initialize the form
        function initializeForm() {
            updateSelect();
        }

        function byId(i) {
            return document.getElementById(i);
        }

        function toSize(b) {
            var ss = ['B', 'KB', 'MB'];
            if (typeof b === 'undefined') return '';
            if (b < 1) return '0 B';
            var i = Math.floor(Math.log(b) / Math.log(1024));
            if (i < 0 || i > 2) return '';
            return (b / Math.pow(1024, i)).toFixed(2).replace(/\.?0*$/, '') + ' ' + ss[i];
        }

        function checkSize(id, t) {
            var fe = byId(id);
            if (!fe) return 0;
            if (fe.value == '') {
                showStatus('Please select a "' + t + '" file.', 'error');
                return -1;
            }
            if (!fe.files) return 0;
            if (!fe.files.length) return 0;
            if (fe.files.length != 1) return 0;
            if (typeof fe.files[0].size === 'undefined') return 0;
            var s = fe.files[0].size;
            // Reduced max size for browser processing
            if (s > 10485760) { // 10 MB
                showStatus(t + ' is too big (' + toSize(s) + '), maximum is 10 MB.', 'error');
                return -1;
            }
            if (s < 100) { // 100 bytes
                showStatus(t + ' is too small, file size is ' + s + ' bytes.', 'error');
                return -1;
            }
            return s;
        }

        function processImage() {
            if (!checkOptions()) return;
            
            const fileInput = byId('file');
            const file = fileInput.files[0];
            
            if (!file) {
                showStatus('Please select an image file.', 'error');
                return;
            }
            
            processingCancelled = false;
            convertBtn.disabled = true;
            progressContainer.style.display = 'block';
            previewContainer.style.display = 'none';
            downloadBtn.style.display = 'none';
            
            showStatus('Processing image...', 'info');
            updateProgress(10);
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                if (processingCancelled) return;
                
                updateProgress(30);
                
                const img = new Image();
                img.onload = function() {
                    if (processingCancelled) return;
                    
                    updateProgress(50);
                    
                    // Show original preview
                    originalPreview.src = e.target.result;
                    
                    // Calculate new dimensions
                    const options = getResizeOptions(img.width, img.height);
                    
                    // Create canvas for resizing
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    canvas.width = options.newWidth;
                    canvas.height = options.newHeight;
                    
                    // Handle different resize options
                    if (byId('select').value === '3') {
                        // Crop mode
                        const sourceX = Math.max(0, (img.width - options.newWidth) / 2);
                        const sourceY = Math.max(0, (img.height - options.newHeight) / 2);
                        const sourceWidth = Math.min(img.width, options.newWidth);
                        const sourceHeight = Math.min(img.height, options.newHeight);
                        
                        ctx.drawImage(
                            img, 
                            sourceX, sourceY, sourceWidth, sourceHeight,
                            0, 0, options.newWidth, options.newHeight
                        );
                    } else {
                        // Regular resize
                        ctx.drawImage(img, 0, 0, options.newWidth, options.newHeight);
                    }
                    
                    updateProgress(80);
                    
                    // Convert to blob and create preview
                    canvas.toBlob(function(blob) {
                        if (processingCancelled) return;
                        
                        resizedImageBlob = blob;
                        const resizedUrl = URL.createObjectURL(blob);
                        resizedPreview.src = resizedUrl;
                        
                        updateProgress(100);
                        showStatus('Image resized successfully!', 'success');
                        
                        // Show preview and download button
                        previewContainer.style.display = 'block';
                        downloadBtn.style.display = 'block';
                        convertBtn.disabled = false;
                        
                        // Set up download
                        const fileName = file.name.replace(/\.[^/.]+$/, "") + '-resized.jpg';
                        downloadBtn.onclick = function() {
                            const a = document.createElement('a');
                            a.href = resizedUrl;
                            a.download = fileName;
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                        };
                    }, 'image/jpeg', 0.9);
                };
                
                img.onerror = function() {
                    showStatus('Error loading image. Please try another file.', 'error');
                    convertBtn.disabled = false;
                    progressContainer.style.display = 'none';
                };
                
                img.src = e.target.result;
            };
            
            reader.onerror = function() {
                showStatus('Error reading file. Please try again.', 'error');
                convertBtn.disabled = false;
                progressContainer.style.display = 'none';
            };
            
            reader.readAsDataURL(file);
        }

        function getResizeOptions(originalWidth, originalHeight) {
            const selectValue = byId('select').value;
            const styleValue = byId('style').value;
            let newWidth, newHeight;
            
            // Convert units to pixels if needed
            let widthValue = 0, heightValue = 0;
            
            if (byId('width').value) {
                widthValue = parseFloat(byId('width').value);
            }
            
            if (byId('height').value) {
                heightValue = parseFloat(byId('height').value);
            }
            
            // Convert to pixels based on unit
            const dpi = 96; // Standard screen DPI
            if (styleValue === '2') { // Inches
                widthValue = widthValue * dpi;
                heightValue = heightValue * dpi;
            } else if (styleValue === '3') { // Millimeters
                widthValue = widthValue * dpi / 25.4;
                heightValue = heightValue * dpi / 25.4;
            } else if (styleValue === '4') { // Centimeters
                widthValue = widthValue * dpi / 2.54;
                heightValue = heightValue * dpi / 2.54;
            }
            
            // Apply resize logic based on selected option
            switch(selectValue) {
                case '1': // Width and Height (maintain aspect ratio)
                    const ratio = Math.min(widthValue / originalWidth, heightValue / originalHeight);
                    newWidth = Math.round(originalWidth * ratio);
                    newHeight = Math.round(originalHeight * ratio);
                    break;
                    
                case '2': // Width and Height (fixed)
                    newWidth = Math.round(widthValue);
                    newHeight = Math.round(heightValue);
                    break;
                    
                case '3': // Width and Height (crop)
                    newWidth = Math.round(widthValue);
                    newHeight = Math.round(heightValue);
                    break;
                    
                case '4': // Max Width
                    newWidth = Math.round(widthValue);
                    newHeight = Math.round(originalHeight * (widthValue / originalWidth));
                    break;
                    
                case '5': // Max Height
                    newWidth = Math.round(originalWidth * (heightValue / originalHeight));
                    newHeight = Math.round(heightValue);
                    break;
                    
                case '6': // Double Size
                    newWidth = originalWidth * 2;
                    newHeight = originalHeight * 2;
                    break;
                    
                case '7': // Half Size
                    newWidth = Math.round(originalWidth / 2);
                    newHeight = Math.round(originalHeight / 2);
                    break;
                    
                default:
                    newWidth = originalWidth;
                    newHeight = originalHeight;
            }
            
            // Ensure minimum dimensions
            newWidth = Math.max(1, newWidth);
            newHeight = Math.max(1, newHeight);
            
            return { newWidth, newHeight };
        }

        function cancelProcessing() {
            processingCancelled = true;
            showStatus('Processing cancelled.', 'error');
            convertBtn.disabled = false;
            progressContainer.style.display = 'none';
        }

        function checkFileInput() {
            return (checkSize('file', 'Image') != -1);
        }

        function updateSelect() {
            var s = byId('select');
            if (!s) return;
            
            // Hide all option inputs
            document.querySelectorAll('.option-input').forEach(el => {
                el.classList.remove('active');
            });
            
            // Show relevant inputs based on selection
            if (['1', '2', '3', '4', '5'].includes(s.value)) {
                byId('option-input-1').classList.add('active');
                byId('option-input-2').classList.add('active');
                
                // Update labels based on selection
                const widthLabel = byId('width').previousElementSibling;
                const heightLabel = byId('height').previousElementSibling;
                
                if (s.value === '4') {
                    widthLabel.textContent = 'Max Width';
                    byId('height').style.display = 'none';
                    heightLabel.style.display = 'none';
                    byId('height-unit').style.display = 'none';
                } else if (s.value === '5') {
                    heightLabel.textContent = 'Max Height';
                    byId('width').style.display = 'none';
                    widthLabel.style.display = 'none';
                    byId('width-unit').style.display = 'none';
                } else {
                    widthLabel.textContent = 'Width';
                    heightLabel.textContent = 'Height';
                    byId('width').style.display = '';
                    widthLabel.style.display = '';
                    byId('width-unit').style.display = '';
                    byId('height').style.display = '';
                    heightLabel.style.display = '';
                    byId('height-unit').style.display = '';
                }
            } else {
                // For Double Size and Half Size, hide dimension inputs
                byId('option-input-1').classList.remove('active');
                byId('option-input-2').classList.remove('active');
            }
            
            updateStyle();
        }

        function updateStyle() {
            var s = byId('style');
            var sh = byId('style-hint');
            if (!s) return;
            
            // Update unit labels
            const units = {
                '1': 'px',
                '2': 'in',
                '3': 'mm',
                '4': 'cm'
            };
            
            byId('width-unit').textContent = units[s.value];
            byId('height-unit').textContent = units[s.value];
            
            // Update pattern and hint based on unit
            const widthInput = byId('width');
            const heightInput = byId('height');
            
            if (s.value == '1' || s.value == '3') {
                // Pixel or Millimeter - integers only
                if (widthInput) widthInput.pattern = '^[0-9]{1,4}$';
                if (heightInput) heightInput.pattern = '^[0-9]{1,4}$';
            } else {
                // Inch or Centimeter - allow decimals
                if (widthInput) widthInput.pattern = '^[0-9\\.]{1,5}$';
                if (heightInput) heightInput.pattern = '^[0-9\\.]{1,5}$';
            }
            
            // Update hint text
            const hints = {
                '1': '(from 1 to 9999)',
                '2': '(from 1 to 100)',
                '3': '(from 1 to 3000)',
                '4': '(from 1 to 300)'
            };
            
            if (sh) sh.textContent = hints[s.value];
        }

        function checkWidthHeight(e) {
            e.value = e.value.trim();
            if (e.value == '') return false;
            
            var s = byId('style');
            var v = 0;
            var m = 9999;
            
            if (s.value == '2') m = 100;
            if (s.value == '3') m = 3000;
            if (s.value == '4') m = 300;
            
            if (s.value == '1' || s.value == '3') {
                v = parseInt(e.value);
            } else {
                v = parseFloat(e.value);
            }
            
            if (isNaN(v) || (v < 1) || (v > m)) return false;
            return true;
        }

        function checkOptions() {
            if (!checkFileInput()) return false;
            
            var s = byId('select');
            var widthInput = byId('width');
            var heightInput = byId('height');
            var styleSelect = byId('style');
            var styleHint = byId('style-hint');
            
            // Check if dimensions are needed based on selected option
            if (['1', '2', '3', '4', '5'].includes(s.value)) {
                if (s.value !== '5' && widthInput && widthInput.style.display !== 'none') {
                    if (!checkId('width', '0', 'Width')) return false;
                    if (widthInput && !checkWidthHeight(widthInput)) {
                        alert('Please enter a valid "Width". ' + styleHint.textContent);
                        return false;
                    }
                }
                
                if (s.value !== '4' && heightInput && heightInput.style.display !== 'none') {
                    if (!checkId('height', '0', 'Height')) return false;
                    if (heightInput && !checkWidthHeight(heightInput)) {
                        alert('Please enter a valid "Height". ' + styleHint.textContent);
                        return false;
                    }
                }
            }
            
            // Check for GIF format restrictions
            var f = byId('file');
            var ext = '';
            if (f && f.files && f.files[0]) ext = f.files[0].name.toLowerCase().split('.').pop();
            if (styleSelect && (styleSelect.value != '1') && (ext == 'gif')) {
                alert('GIF images only support unit "Pixel".');
                return false;
            }
            
            return true;
        }

        function checkId(i, d, t) {
            var e = byId(i);
            if (!e) return true;
            e.value = e.value.trim();
            var ev = 0;
            if (d == '0') {
                ev = parseFloat(e.value);
                if (isNaN(ev) || (ev < 0.1)) ev = -1;
            }
            if ((e.value == '') || (e.value == d) || (ev < 0) || !validRegx(e)) {
                alert('Please enter a valid "' + t + '".');
                return false;
            }
            return true;
        }

        function validRegx(e) {
            if (e.validity) {
                if (e.validity.valid !== true) return false;
            } else {
                var pt = e.getAttribute('pattern');
                if (pt) {
                    if (pt != '') {
                        var rx = new RegExp(pt);
                        if (!rx.test(e.value)) return false;
                    }
                }
            }
            return true;
        }

        function showStatus(message, type) {
            statusDiv.textContent = message;
            statusDiv.className = 'status-container ' + type;
        }

        function updateProgress(percent) {
            progressFill.style.width = percent + '%';
            progressText.textContent = percent + '%';
        }

        // Initialize the form when page loads
        window.onload = initializeForm;
    </script>
</body>

</html>
